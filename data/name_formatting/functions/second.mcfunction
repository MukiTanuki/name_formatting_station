#
# Description:	Function that repeats every second
# Called by:	init
# Entity @s:	none
#
# reschedules function
schedule function name_formatting:second 1s replace

# trigger
execute as @a[scores={FormatName=1..}] run function name_formatting:menu/checks

# re-enables trigger
scoreboard players enable @a FormatName

# give book
execute if score #enable_book nfs_dummy matches 1 as @a[nbt={SelectedItem:{id: "minecraft:written_book", tag:{ title: "Format Name" }}}] run item replace entity @s weapon.mainhand with written_book{NameFormattingBook:1,display:{ Lore: [ '"Stored Name:"', '""']}, pages:['["",{"text":"Name Formatting Book","color":"dark_blue"},{"text":"\\n         V1.0\\n  Table of Contents\\n\\n","color":"reset"},{"text":"Styles","color":"dark_aqua","clickEvent":{"action":"change_page","value":2}},{"text":"\\n","color":"dark_aqua"},{"text":"Colors","color":"dark_aqua","clickEvent":{"action":"change_page","value":3}},{"text":"\\n","color":"dark_aqua"},{"text":"Fonts","color":"dark_aqua","clickEvent":{"action":"change_page","value":4}},{"text":"\\n","color":"dark_aqua"},{"text":"Revert","color":"dark_aqua","clickEvent":{"action":"change_page","value":4}},{"text":"\\n","color":"dark_aqua"},{"text":"Merging & Lore","color":"dark_aqua","clickEvent":{"action":"change_page","value":5}},{"text":"\\n","color":"dark_aqua"},{"text":"Credits","color":"dark_aqua","clickEvent":{"action":"change_page","value":6}}]','["",{"text":"    Style Settings","color":"dark_blue"},{"text":"\\n\\n","color":"reset"},{"text":"Italic:","italic":true},{"text":"\\n","color":"reset"},{"text":"true","clickEvent":{"action":"run_command","value":"/trigger FormatName set 100"}},{"text":" | "},{"text":"false","clickEvent":{"action":"run_command","value":"/trigger FormatName set 101"}},{"text":" | "},{"text":"none","clickEvent":{"action":"run_command","value":"/trigger FormatName set 102"}},{"text":"\\n"},{"text":"Underlined:","underlined":true},{"text":"\\n","color":"reset"},{"text":"true","clickEvent":{"action":"run_command","value":"/trigger FormatName set 103"}},{"text":" | "},{"text":"false","clickEvent":{"action":"run_command","value":"/trigger FormatName set 104"}},{"text":" | "},{"text":"none","clickEvent":{"action":"run_command","value":"/trigger FormatName set 105"}},{"text":"\\n"},{"text":"Bold:","bold":true},{"text":"\\n","color":"reset"},{"text":"true","clickEvent":{"action":"run_command","value":"/trigger FormatName set 106"}},{"text":" | "},{"text":"false","clickEvent":{"action":"run_command","value":"/trigger FormatName set 107"}},{"text":" | "},{"text":"none","clickEvent":{"action":"run_command","value":"/trigger FormatName set 108"}},{"text":"\\n"},{"text":"Strikethrough:","strikethrough":true},{"text":"\\n","color":"reset"},{"text":"true","clickEvent":{"action":"run_command","value":"/trigger FormatName set 109"}},{"text":" | "},{"text":"false","clickEvent":{"action":"run_command","value":"/trigger FormatName set 110"}},{"text":" | "},{"text":"none","clickEvent":{"action":"run_command","value":"/trigger FormatName set 111"}},{"text":"\\n"},{"text":"Obfuscated:","obfuscated":true},{"text":"\\n","color":"reset"},{"text":"true","clickEvent":{"action":"run_command","value":"/trigger FormatName set 112"}},{"text":" | "},{"text":"false","clickEvent":{"action":"run_command","value":"/trigger FormatName set 113"}},{"text":" | "},{"text":"none","clickEvent":{"action":"run_command","value":"/trigger FormatName set 114"}}]','["",{"text":" \\u0020 \\u0020Color Settings","color":"dark_blue"},{"text":"\\n\\n","color":"reset"},{"text":"none\\n","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 199" }, "color": "gold"},"Dye Colors:\\n",{"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 200" }, "color": "#f9fffe"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 201" }, "color": "#f38baa"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 202" }, "color": "#b02e26"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 203" }, "color": "#f9801d"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 204" }, "color": "#fed83d"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 205" }, "color": "#80c71f"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 206" }, "color": "#5e7c16"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 207" }, "color": "#169c9c"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 208" }, "color": "#3ab3da"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 209" }, "color": "#3c44aa"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 210" }, "color": "#8932b8"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 211" }, "color": "#c74ebd"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 212" }, "color": "#835432"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 213" }, "color": "#9d9d97"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 214" }, "color": "#474f52"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 215" }, "color": "#1d1d21"},"\\nSystem colors:\\n", {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 216" }, "color": "black"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 217" }, "color": "dark_gray"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 218" }, "color": "gray"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 219" }, "color": "white"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 220" }, "color": "red"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 221" }, "color": "yellow"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 222" }, "color": "green"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 223" }, "color": "aqua"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 224" }, "color": "blue"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 225" }, "color": "light_purple"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 226" }, "color": "dark_red"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 227" }, "color": "gold"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 228" }, "color": "dark_green"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 229" }, "color": "dark_aqua"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 230" }, "color": "dark_blue"}, {"text":"■","clickEvent": { "action": "run_command", "value": "/trigger FormatName set 231" }, "color": "dark_purple"},{"text":"\\n ","color":"reset"}]','["",{"text":"    Font Settings","color":"dark_blue"},{"text":"\\n\\n","color":"reset"},{"text":"minecraft:default","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 300"}},{"text":"\\n","color":"dark_aqua"},{"text":"minecraft:uniform","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 301"}},{"text":"\\n","color":"dark_aqua"},{"text":"minecraft:alt","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 302"}},{"text":"\\n","color":"dark_aqua"},{"text":"minecraft:illageralt","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 303"}},{"text":"\\n\\n   ","color":"dark_aqua"},{"text":"Revert Settings","color":"dark_blue"},{"text":"\\n\\n","color":"reset"},{"text":"Revert offhand name","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 400"}}]','["",{"text":"   Merging and Lore","color":"dark_blue"},{"text":"\\n\\n","color":"reset"},{"text":"Clear storage","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 700"}},{"text":"\\n","color":"dark_aqua"},{"text":"Append to storage","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 701"}},{"text":"\\n","color":"dark_aqua"},{"text":"Prepend to storage","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 702"}},{"text":"\\n","color":"dark_aqua"},{"text":"Copy storage to name","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 703"}},{"text":"\\n","color":"reset"},{"text":"          Lore","color":"dark_blue"},{"text":"\\n\\n","color":"reset"},{"text":"Append storage\\nto Lore","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 704"}},{"text":"\\n","color":"dark_aqua"},{"text":"Prepend storage\\nto Lore","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 705"}},{"text":"\\n","color":"dark_aqua"},{"text":"Delete last Lore","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 706"}},{"text":"\\n","color":"dark_aqua"},{"text":"Delete first Lore","color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger FormatName set 707"}}]','["",{"text":" \\u0020 \\u0020 \\u0020 Credits","color":"dark_blue"},{"text":"\\n\\n ","color":"reset"},{"text":"Datapack created by:","color":"dark_gray"},{"text":"\\n","color":"reset"},{"text":" \\u0020 \\u0020 \\u0020","bold":true},{"text":"MukiTanuki","bold":true,"color":"blue","clickEvent":{"action":"open_url","value":"https://twitter.com/mukitanuki"}}]'],title:"Name Formatting Book V1.0",author:MukiTanuki}
